{#
  Shortcode to output a specific pledge item's amount.
  Usage: {{ pledge_item(year="2025", name="FLOSS/fund") }}

  Returns the amount for the named item, or "TBD" if null.
#}
{%- set year = year -%}
{%- set name = name -%}
{%- set data_path = "data/pledge/" ~ year ~ ".json" -%}
{%- set data = load_data(path=data_path) -%}

{%- for item in data.items -%}
  {%- if item.name == name -%}
    {%- if item.amount -%}
${{ item.amount }}
    {%- else -%}
TBD
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}
